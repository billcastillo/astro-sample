---
import Header from '../components/Header.astro'
import BIRLayout from '../layouts/BIRLayout.astro'
import RanWindow from '../components/RanWindow.astro'
import BIRParticles from '../components/BIRParticles.astro'
import GuideList from '../components/GuideList.astro'
import BlogList from '../components/BlogList.astro'
import ZigDivider from '../components/ZigDivider.astro'

import { SITE_TITLE, SITE_DESCRIPTION, BIR_SENIORS } from '../config'

const content = {
  title: SITE_TITLE,
  description: SITE_DESCRIPTION,
  isBlog: false,
}
---

<BIRLayout content={content}>
  <section class="relative text-center overflow-hidden bg-bir-dark">
    <div
      class="absolute inset-0 w-full h-full bg-[url(/cover/1.jpg)] bg-cover bg-center opacity-50"
    >
    </div>
    <div
      class="absolute inset-0 w-full h-full bg-[url(/bg/pattern-1.png)] bg-repeat bg-center opacity-60"
    >
    </div>

    <BIRParticles />

    <div
      class="relative px-6 py-8 lg:py-16 pb-0 hover:cursor-pointer"
      data-tilt
      data-confetti-button
    >
      <h1 class="hidden">BIR Gaming</h1>
      <svg
        class="relative grid place-content-center mx-auto max-w-lg aspect-square"
        viewBox="0 0 97 69"
        fill="#FF0000"
        xmlns="http://www.w3.org/2000/svg"
        ><path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M0 0V68H27.5V61.5H34.5V41H27.5V27.5H34.5V13.5H27.5V6.5H21V0H0ZM14 27V14H20.5V27H14ZM14 54.5V41H20.5V54.5H14Z"
          fill="#FF0000"></path><path d="M41 0H55V68H41V0Z" fill="#FF0000"
        ></path><path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M62 0V68.2975H76V41H82.5V68.2975H96.5V41H89.5V27.5H96.5V7H89.5V0H62ZM76 27V13.5H82.5V27H76Z"
          fill="#FF0000"></path>
      </svg>
    </div>

    <img
      class="relative mx-auto w-4/5 max-w-screen-md top-0 hover:cursor-pointer drop-shadow-hover"
      src="/celebrate-3rd-anniv.png"
      data-school-confetti-button
    />
  </section>

  <Header />

  <section class="relative px-6 py-16 lg:py-32 text-center">
    <div
      class="absolute inset-0 w-full h-full bg-[url(/cover/4.jpg)] bg-center bg-cover opacity-60"
    >
    </div>
    <div class="relative mx-auto max-w-4xl z-10">
      <RanWindow title="">
        <div class="p-4 lg:p-6">
          <h2
            class="font-bebas text-bir-text-green text-4xl lg:text-[64px] leading-tight"
          >
            Pinakamalakas na guild sa <a
              href="https://www.facebook.com/ranonlinepinas"
              class="underline"
              target="_blank"
              rel="noreferrer">Ran Online Pinas</a
            >. bagsakan ng mga pinakamatitikas at matatag na players.
          </h2>
        </div>
      </RanWindow>
    </div>
  </section>

  <section class="px-6 py-16 lg:py-32">
    <div class="container mx-auto">
      <div
        class="flex flex-col mb-16 sm:mb-32 sm:flex-row justify-center content-center items-center"
      >
        <h2
          class="mr-8 text-center sm:text-left mb-4 sm:mb-0 sm:mr-16 uppercase leading-tight font-bebas text-bir-text-green"
        >
          Sali ka? <br /> pm mo kami
        </h2>
        <div class="w-full max-w-[280px]">
          <RanWindow title="Friends">
            <div class="p-3">
              <ul
                class="font-verdana text-white tracking-wide overflow-y-auto max-h-[300px]"
              >
                {
                  BIR_SENIORS.sort().map((senior) => {
                    return (
                      <li class="before:content-['[0]']">&nbsp;{senior}</li>
                    )
                  })
                }
              </ul>
            </div>
          </RanWindow>
          <!-- <img src="/char/castle.png" />
          <p class="mt-4 text-center text-lg lg:text-2xl">IGN: Castle</p> -->
        </div>
      </div>

      <div class="relative mx-auto max-w-4xl">
        <RanWindow title="Members">
          <video controls class="w-full h-auto hover:cursor-pointer">
            <source type="video/mp4" src="/videos/member-2.mp4" />
          </video>
        </RanWindow>

        <p class="text-center pt-8 text-lg">
          Video by <a
            target="_blank"
            rel="noreferrer"
            class="underline"
            href="https://www.facebook.com/profile.php?id=61558626726323"
            >yiyeti</a
          >
        </p>
      </div>
    </div>
  </section>

  <section
    class="relative px-6 py-6 lg:py-24 bg-texture-and-cross bg-repeat"
    id="qualifications"
  >
    <h2 class="mb-12 text-center font-bebas text-bir-text-green">
      Qualifications:
    </h2>
    <div class="mx-auto container lg:max-w-[60%]">
      <img class="w-full h-auto" src="/requirements-2.png" />
    </div>
  </section>

  <section class="relative px-6 py-16 lg:py-48">
    <GuideList />
    <BlogList />
  </section>

  <section class="relative py-16 lg:py-48 text-center">
    <div class="absolute inset-0 w-full h-full overflow-hidden">
      <img class="w-full" src="/bir-lang-malakas.svg" />
      <div class="h-full bg-bir-lang-malakas bg-repeat-y bg-contain opacity-40">
      </div>
    </div>
    <div class="relative px-6 mx-auto container z-10">
      <div class="mx-auto max-w-4xl">
        <RanWindow title="Official OST">
          <div class="py-1">
            <iframe
              class="mx-auto w-full aspect-video"
              src="https://www.youtube-nocookie.com/embed/nn0VToPpq6U"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen></iframe>
          </div>
        </RanWindow>
        <p class="pt-8 text-lg lg:text-2xl">by `Ashura- / Ron Cali</p>
      </div>
    </div>
  </section>
  <script>
    import confetti from 'canvas-confetti'
    const confettiButtons = document.querySelectorAll('[data-confetti-button]')

    confettiButtons.forEach((button) => {
      button.addEventListener('click', () =>
        confetti({
          particleCount: 100,
          spread: 70,
          origin: { y: 0.6 },
        })
      )
    })

    const schoolConfetti = () => {
      const end = Date.now() + 5 * 1000

      const colors = ['#ffffff', '#FF0000']

      ;(function frame() {
        confetti({
          particleCount: 2,
          angle: 60,
          spread: 55,
          origin: { x: 0 },
          colors: colors,
        })
        confetti({
          particleCount: 2,
          angle: 120,
          spread: 55,
          origin: { x: 1 },
          colors: colors,
        })

        if (Date.now() < end) {
          requestAnimationFrame(frame)
        }
      })()
    }

    const schoolConfettiBtn = document.querySelectorAll(
      '[data-school-confetti-button]'
    )

    schoolConfettiBtn.forEach((button) => {
      button.addEventListener('click', () => schoolConfetti())
    })
    // const confetti = require('canvas-confetti');
  </script>
</BIRLayout>
